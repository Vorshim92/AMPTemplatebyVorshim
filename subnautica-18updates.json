[
  {
    "UpdateStageName": "Ensure dirs (Linux)",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "Executable",
    "UpdateSourceData": "/bin/sh",
    "UpdateSourceArgs": "-lc \"mkdir -p '{{$FullBaseDir}}/dotnet' '{{$FullBaseDir}}/nitrox'\""
  },
  {
    "UpdateStageName": "Fetch dotnet-install.sh",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "FetchURL",
    "UpdateSourceData": "https://dot.net/v1/dotnet-install.sh",
    "UpdateSourceArgs": "{{$FullBaseDir}}/dotnet/dotnet-install.sh",
    "UpdateSourceTarget": "{{$FullBaseDir}}/dotnet",
    "OverwriteExistingFiles": true
  },
  {
    "UpdateStageName": "chmod dotnet-install.sh",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "Executable",
    "UpdateSourceData": "/bin/sh",
    "UpdateSourceArgs": "-lc \"chmod +x '{{$FullBaseDir}}/dotnet/dotnet-install.sh'\""
  },
  {
    "UpdateStageName": "Install .NET 9.0.9 (portable)",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "Executable",
    "UpdateSourceData": "/bin/bash",
    "UpdateSourceArgs": "-lc \"'{{$FullBaseDir}}/dotnet/dotnet-install.sh' --runtime dotnet --version 9.0.9 --install-dir '{{$FullBaseDir}}/dotnet' --no-path\""
  },
  {
    "UpdateStageName": "Ensure target dir (Linux)",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "Executable",
    "UpdateSourceData": "/bin/sh",
    "UpdateSourceArgs": "-lc \"mkdir -p '{{$FullBaseDir}}/nitrox'\""
  },
  {
    "UpdateStageName": "Nitrox 1.8 â€“ Download+Unzip (Linux)",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "FetchURL",
    "UpdateSourceData": "https://github.com/SubnauticaNitrox/Nitrox/releases/download/1.8.0.0/Nitrox_1.8.0.0_linux_x64.zip",
    "UpdateSourceTarget": "{{$FullBaseDir}}/nitrox",
    "UnzipUpdateSource": true,
    "DeleteAfterExtract": true,
    "OverwriteExistingFiles": true
  },
  {
    "UpdateStageName": "Make executable (robusto)",
    "UpdateSourcePlatform": "Linux",
    "UpdateSource": "Executable",
    "UpdateSourceData": "/bin/sh",
    "UpdateSourceArgs": "-lc \"p='{{$FullBaseDir}}/nitrox/linux-x64/NitroxServer-Subnautica'; [ -f \\\"$p\\\" ] && chmod +x \\\"$p\\\" || { echo 'not found'; exit 1; }\""
  }
]
